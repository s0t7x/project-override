// server/tsconfig.json
// TypeScript compiler configuration for the ProjectOverride server.
{
    "extends": "../tsconfig.json", // Extend the base configuration from the root tsconfig.json
    "compilerOptions": {
      /* Base Options */
      "target": "ES2020", // Target modern Node.js versions
      "module": "CommonJS", // Standard module system for Node.js
      "lib": ["ES2020"], // Include ES2020 library features
      "outDir": "./dist", // Where to output compiled JavaScript files
      // "rootDir": "./src", // Root directory of source files
      "sourceMap": true, // Generate source maps for debugging compiled code
  
      /* Strict Type-Checking Options */
      "strict": true, // Enable all strict type-checking options
      "noImplicitAny": true, // Raise error on expressions and declarations with an implied 'any' type.
      "strictNullChecks": true, // Enable strict null checks.
      "strictFunctionTypes": true, // Enable strict checking of function types.
      "strictBindCallApply": true, // Enable strict 'bind', 'call', and 'apply' methods on functions.
      "strictPropertyInitialization": false, // Temporarily disable to avoid constructor initialization issues with DI/Colyseus lifecycle, enable later if possible.
      "noImplicitThis": true, // Raise error on 'this' expressions with an implied 'any' type.
      "alwaysStrict": true, // Parse in strict mode and emit "use strict" for each source file.
  
      /* Module Resolution Options */
      "moduleResolution": "node", // Use Node.js style module resolution
      "baseUrl": "./", // Base directory to resolve non-relative module names
      "paths": {
        // Define aliases for cleaner imports
        "@shared/*": ["../shared/*"], // Allows importing shared code with '@shared/...'
        "@/*": ["src/*"] // Allows importing server modules with '@/...'
      },
      "resolveJsonModule": true, // Allow importing JSON files
      "esModuleInterop": true, // Enables compatibility with CommonJS modules that use default exports
      "allowSyntheticDefaultImports": true, // Allow default imports from modules with no default export
  
      /* Advanced Options */
      "skipLibCheck": true, // Skip type checking of declaration files (.d.ts) - Speeds up compilation
      "forceConsistentCasingInFileNames": true, // Disallow inconsistently-cased references to the same file.
      "experimentalDecorators": true, // Enables experimental support for ES7 decorators (used by Colyseus Schema)
      "emitDecoratorMetadata": true // Enables experimental support for emitting type metadata for decorators
    },
    "include": ["src/**/*"], // Which files TypeScript should compile
    "exclude": ["node_modules", "dist"] // Which files/directories to exclude
}